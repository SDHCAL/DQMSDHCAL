<dqm4hep>

    <archiver open="false" directory="/tmp" />
    
    <network>
        <runcontrol type="DimRunControlClient" name="SDHCALRunControl" />
        
        <eventcollector type="DimEventClient">
        	<parameter name="collectorName"> sdhcal_event_collector </parameter>
        	<parameter name="maxQueueSize"> 100 </parameter>
        	<parameter name="streamerName"> LCIOStreamer </parameter>
        </eventcollector>
        
        <monitorelementcollector name="sdhcal_me_collector"/>
    </network>
    
    <cycle type="TimerCycle" value="3" timeout="5" />

    <module type="EventDisplayModule" name="SDHCALEventDisplay">
        
        <Trivent>
        	<parameter name="RawCollectionNames"> DHCALRawHits </parameter>
        	<parameter name="RecCollectionNames"> SDHCAL_HIT </parameter>
        	
        	<!-- Lookup in the same order as RawCollectionNames and RecCollectionNames -->
        	<RawDataConverters>
        		<converter plugin="SDHCALCaloHitConverter">
        			<electronicsMapping plugin="SDHCALElectronicsMapping">
        				<parameter name="CellReferencePosition"> 0 0 0 </parameter>
        				<parameter name="CellSize0"> 10.408f </parameter>
        				<parameter name="CellSize1"> 10.408f </parameter>
        				<parameter name="LayerThickness"> 26.73f </parameter>
        				<parameter name="GlobalDifShiftY"> 32 </parameter>
        				<parameter name="DifList">
	        				30 94 181     115 149 117     130 123 122     119 118 129     151 152 164     75 61 74     110 111 156 
							103 177 102     134 136 133     121 120 128     58 64 65     73 72 148     60 79 78 
							113 43 44     68 69 66     154 127 186     71 70 147     140 139 47     76 77 143 
							36 91 159     183 178 179     67 42 41     138 46 137     144 173 131     160 184 189 
							171 167 172     145 135 146     180 170 185     190 188 187     166 165 169     50 57 155 
							25 108 153     109 56 51     116 150 107     49 124 126     176 175 174     114 45 48 
							40 93 98     100 97 92     132 106 62     99 35 101     141 142 158     162 161 163 
							112 29 104     54 53 59     27 90 96     5 8 95     18 87 63 
        				</parameter>
        			</electronicsMapping>
        			<parameter name="CellIDEncoderString"> M:3,S-1:3,I:9,J:9,K-1:6 </parameter>
        		</converter>
        	</RawDataConverters>
        	<parameter name="TimeWindow"> 2 </parameter>
        	<parameter name="MinPeakSize"> 10 </parameter>
        	<parameter name="MinElements"> 10 </parameter>
        	<parameter name="MaxElements"> 100000 </parameter>
        </Trivent>
        
        <parameter name="InputCaloHitCollections"> SDHCAL_HIT </parameter>
        <parameter name="ColorWeightList"> 1 </parameter>
        
        <parameter name="MarkerColor3D"> 2 </parameter>
        <parameter name="MarkerSize3D"> 1 </parameter>
        <parameter name="MarkerStyle3D"> 21 </parameter>
        
		<monitorElement ID="EventDisplay3D"
			name="EventDisplay3D" path="/3D" type="TH3F"
			nBinsX="100" minX="0" maxX="1000"
			nBinsY="100" minY="0" maxY="1000"
			nBinsZ="100" minZ="0" maxZ="1000"
			title="SDHCAL 3D display" drawOption="gl" resetPolicy="EndOfRun"/>
			
		<monitorElement ID="LastProfileZX"
			name="LastProfileZX" path="/2D" type="TH2F"
			nBinsX="27" minX="0" maxX="1000"
			nBinsY="100" minY="0" maxY="1000"
			title="Last recorded Z-X profile" drawOption="colz" resetPolicy="EndOfRun"/>
			
		<monitorElement ID="LastProfileZY"
			name="LastProfileZY" path="/2D" type="TH2F"
			nBinsX="27" minX="0" maxX="1000"
			nBinsY="100" minY="0" maxY="1000"
			title="Last recorded Z-Y profile" drawOption="colz" resetPolicy="EndOfRun"/>
		
		<monitorElement ID="LastProfileXY"
			name="LastProfileXY" path="/2D" type="TH2F"
			nBinsX="100" minX="0" maxX="1000"
			nBinsY="100" minY="0" maxY="1000"
			title="Last recorded X-Y profile" drawOption="colz" resetPolicy="EndOfRun"/>
			
		<monitorElement ID="CycleStackedProfileZX"
			name="CycleStackedProfileZX" path="/2D" type="TH2F"
			nBinsX="27" minX="0" maxX="1000"
			nBinsY="100" minY="0" maxY="1000"
			title="Stacked Z-X profile over a cycle" drawOption="colz" resetPolicy="EndOfCycle"/>
			
		<monitorElement ID="CycleStackedProfileZY"
			name="CycleStackedProfileZY" path="/2D" type="TH2F"
			nBinsX="27" minX="0" maxX="1000"
			nBinsY="100" minY="0" maxY="1000"
			title="Stacked Z-Y profile over a cycle" drawOption="colz" resetPolicy="EndOfCycle"/>
			
		<monitorElement ID="CycleStackedProfileXY"
			name="CycleStackedProfileXY" path="/2D" type="TH2F"
			nBinsX="100" minX="0" maxX="1000"
			nBinsY="100" minY="0" maxY="1000"
			title="Stacked X-Y profile over a cycle" drawOption="colz" resetPolicy="EndOfCycle"/>
        
    </module>

</dqm4hep>
